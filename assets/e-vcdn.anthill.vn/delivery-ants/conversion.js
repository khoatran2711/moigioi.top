!function(g){var z,A,h,D,E,F,G,H,I={}.hasOwnProperty,J=[].slice,K=function(d,e){return function(){return d.apply(e,arguments)}};h={base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d){var e,a,b,c,f,m,g,q;q="";g=0;for(d=h.base64._utf8_encode(d);g<d.length;)e=d.charCodeAt(g++),a=d.charCodeAt(g++),b=d.charCodeAt(g++),c=e>>2,e=(e&3)<<4|a>>4,f=(a&15)<<2|b>>6,m=b&63,isNaN(a)?f=m=64:isNaN(b)&&(m=64),q=q+this._keyStr.charAt(c)+this._keyStr.charAt(e)+this._keyStr.charAt(f)+
this._keyStr.charAt(m);return q},_utf8_encode:function(d){var e,a,b;d=d.replace(/\r\n/g,"\n");b="";for(a=0;a<d.length;)e=d.charCodeAt(a),128>e?b+=String.fromCharCode(e):(127<e&&2048>e?b+=String.fromCharCode(e>>6|192):(b+=String.fromCharCode(e>>12|224),b+=String.fromCharCode(e>>6&63|128)),b+=String.fromCharCode(e&63|128)),a++;return b}},appendScript:function(d,e){var a,b;b=document.createElement("span");b.className="span-append";b.style.display="none";d.appendChild(b);a=document.createElement("script");
null!=(null!=e?e.text:void 0)?a.text=e.text:(a.src=e.src,a.async=1);return b.parentNode.replaceChild(a,b)},getScriptsFromConversion:function(d,e){return h.json(""+d+"?conversion_id="+e,function(a){var b,c;if(0<(null!=a?null!=(c=a.scripts)?c.length:void 0:void 0))return b=document.createElement("div"),b.className="script-ants-append",b.style.display="none",document.body.appendChild(b),null!=a?a.scripts.forEach(function(a){return h.appendScript(b,a)}):void 0})},sha1:function(d){var e,a,b,c,f,m,w,q,h,
l,n,r,p,k,u,t,v;u=function(a,b){return a<<b|a>>>32-b};p=function(a){var b,c;d="";for(b=7;0<=b;)c=a>>>4*b&15,d+=c.toString(16),b--;return d};e=k=r=void 0;n=[];m=1732584193;w=4023233417;q=2562383102;h=271733878;l=3285377520;a=t=f=c=b=a=e=void 0;v=[];d=unescape(g.encodeURIComponent(d));a=d.length;for(k=0;k<a-3;)e=d.charCodeAt(k)<<24|d.charCodeAt(k+1)<<16|d.charCodeAt(k+2)<<8|d.charCodeAt(k+3),v.push(e),k+=4;switch(a&3){case 0:k=2147483648;break;case 1:k=d.charCodeAt(a-1)<<24|8388608;break;case 2:k=d.charCodeAt(a-
2)<<24|d.charCodeAt(a-1)<<16|32768;break;case 3:k=d.charCodeAt(a-3)<<24|d.charCodeAt(a-2)<<16|d.charCodeAt(a-1)<<8|128}for(v.push(k);14!==(v.length&15);)v.push(0);v.push(a>>>29);v.push(a<<3&4294967295);for(r=0;r<v.length;){for(k=0;16>k;)n[k]=v[r+k],k++;for(k=16;79>=k;)n[k]=u(n[k-3]^n[k-8]^n[k-14]^n[k-16],1),k++;e=m;a=w;b=q;c=h;f=l;for(k=0;19>=k;)t=u(e,5)+(a&b|~a&c)+f+n[k]+1518500249&4294967295,f=c,c=b,b=u(a,30),a=e,e=t,k++;for(k=20;39>=k;)t=u(e,5)+(a^b^c)+f+n[k]+1859775393&4294967295,f=c,c=b,b=u(a,
30),a=e,e=t,k++;for(k=40;59>=k;)t=u(e,5)+(a&b|a&c|b&c)+f+n[k]+2400959708&4294967295,f=c,c=b,b=u(a,30),a=e,e=t,k++;for(k=60;79>=k;)t=u(e,5)+(a^b^c)+f+n[k]+3395469782&4294967295,f=c,c=b,b=u(a,30),a=e,e=t,k++;m=m+e&4294967295;w=w+a&4294967295;q=q+b&4294967295;h=h+c&4294967295;l=l+f&4294967295;r+=16}t=p(m)+p(w)+p(q)+p(h)+p(l);return t.toLowerCase()},objectKeys:function(d){var e,a;a=[];for(e in d)I.call(d,e)&&a.push(e);return a},arrayEach:function(d,e){var a,b,c,f,m;if(null!=Array.prototype.forEach)return Array.prototype.forEach.call(d,
e);m=[];a=c=0;for(f=d.length;c<f;a=++c)b=d[a],m.push(e.call(d,b,a,d));return m},isArray:function(d){return"[object Array]"===Object.prototype.toString.call(d)},each:function(d,e){var a;if(d){if(h.isArray(d))return h.arrayEach(d,e);a=this.objectKeys(d);return h.arrayEach(a,function(a){return e.call(d,d[a],a,d)})}},map:function(d,e){var a;a=[];h.each(d,function(b,c){return a.push(e.call(d,b,c,d))});return a},filter:function(d,e){var a;a=[];h.each(d,function(b,c){if(e.call(d,b,c,d))return a.push(b)});
return a},extend:function(){var d,e,a,b,c,f,m;b=arguments[0];a=2<=arguments.length?J.call(arguments,1):[];b=b||{};f=0;for(m=a.length;f<m;f++)for(d in e=a[f],e)c=e[d],b[d]=c;return b},nextTick:function(d){return h.delay(0,d)},delay:function(d,e){try{return setTimeout(e,d)}catch(a){}},debounce:function(d,e){var a;a=null;return function(){var b,c;c=this;b=arguments_;clearTimeout(a);return a=setTimeout(function(){return d.apply(c,b)},e)}},json:function(d,e,a){var b,c;try{return"function"===typeof e&&
(a=e,e={}),b=function(){var b;if(4===c.readyState&&200===c.status){b=c.responseText;try{return b=JSON.parse(b)}catch(f){}finally{a(b)}}},c=new XMLHttpRequest,c.open("GET",d,!0),c.withCredentials=!0===e.credentials,c.onreadystatechange=b,c.send()}catch(f){}},queue:function(d){var e,a,b,c,f,m,g,q,h,l,n,r,p;n=[].slice;h=void 0;p=[];l=e=r=0;q=void 0;f=null;b=function(){};a=void 0;d||(d=Infinity);g=function(){for(var a,b,f;q=r<p.length&&e<d;)b=r++,f=p[b],a=n.call(f,1),a.push(c(b)),++e,f[0].apply(null,
a)};c=function(a){return function(b,c){--e;null==f&&(null!=c?(f=c,r=l=NaN,m()):(p[a]=b,--l?q||g():m()))}};m=function(){null!=f?b(f):a?b(f,p):b.apply(null,[f].concat(p))};return h={defer:function(){f||(p.push(arguments),++l,g());return h},await:function(c){b=c;a=!1;l||m();return h},awaitAll:function(c){b=c;a=!0;l||m();return h}}}};z=function(){function d(){this.syncInfo=K(this.syncInfo,this);var a,b,c=this;this.has=Object.prototype.hasOwnProperty;this.queueEvents=h.queue();this.isSyncInfo=!1;this.data=
{};this.queue=[];this.event=[];this.transactions={};this.locals={};this.locals.isGDN=!1;this.locals.hostname=this.getDomain(g.location.href);this.locals.hostRerfer=this.getDomain(document.referrer);this.locals.isSameHost=this.locals.hostname===this.locals.hostRerfer;this.locals.refer=0;this.locals.internal=0;this.locals.utmSource={};this.instance=null;this.proxyStorage=new A;null!=(a=this.proxyStorage)&&null!=(b=a.iframe)&&(b.onload=function(){return c.syncInfo()})}var e;d.getInstance=function(){this.isSyncInfo||
(this.instance=function(a,b,c){c.prototype=a.prototype;c=new c;a=a.apply(c,b);return Object(a)===a?a:c}(this,arguments,function(){}));return this.instance};d.prototype.setData=function(a){return this.data[a[1]]=a[2]||""};d.prototype.getData=function(a){return this.data[a]||""};d.prototype.syncInfo=function(a){var b,c,f=this;null==a&&(a=function(){});c="ants_bc_"+this.locals.hostname.replace("www","");this.locals.timeBegin=(new Date).getTime();this.locals.pageView={conversion_id:"",products:[],page_type:"",
time:0};if("undefined"===typeof b||null===b)b=0;this.queueEvents.defer(function(a){return f.proxyStorage.get("proxyDOMReady",a)});this.queueEvents.defer(function(a){return f.proxyStorage.get("au_aid",a)});this.queueEvents.defer(function(a){return f.proxyStorage.get(c,a)});this.queueEvents.defer(function(a){return f.proxyStorage.get("ad_product",a)});this.queueEvents.defer(function(a){return f.proxyStorage.get("ad_vl",a)});return this.queueEvents.awaitAll(function(a,b){var c,d,e;f.locals.visitorId=
b[1].value||"v";c=b[2].value||"";f.locals.product=b[3].value;f.locals.sessionId=f.getLocalStorage("ants_ad_ss")||"";f.locals.utmSource=f.getDataUtmSource();if(!f.locals.isSameHost&&""!==document.referrer||f.locals.isGDN||""===document.referrer)f.locals.refer=1;null!=(null!=(d=f.locals.utmSource)?d.ants_clid:void 0)&&(c=f.locals.utmSource.ants_clid,f.locals.internal=1);f.locals.bc=c;if(""===f.locals.sessionId||null==f.locals.sessionId)f.locals.sessionId=f.getSessionId(),f.setLocalStorage("ants_ad_ss",
f.locals.sessionId,18E5);6>(null!=(e=String(f.locals.visitorId))?e.length:void 0)&&(f.locals.visitorId=f.getCookieStorage("au_aid"));f.enqueue();return f.isSyncInfo=!0})};d.prototype.getDomain=function(a){a=a.replace(/https?:\/\/(www.)?/i,"");return-1===a.indexOf("/")?a:a.split("/")[0]};d.prototype.getFullTime=function(){var a,b,c,f,d,e;a=new Date;e=a.getFullYear();d=a.getMonth()+1;b=a.getDate();c=a.getHours();f=a.getMinutes();a=a.getSeconds();10>d.length&&(d="0"+d);10>b.length&&(b="0"+b);return e+
"-"+d+"-"+b+" "+c+":"+f+":"+a};d.prototype.getDataUtmSource=function(){var a,b,c,f,d;a=g.location.href.match(/(^[^#]*)/)[0].split("?");a=a[a.length-1];f=a.split("&");b={};a=this.getDomain(document.referrer);b.channel=a;for(c=0;c<f.length;)d=f[c].split("="),null!=d[0]&&null!=d[1]&&(-1<["utm_source","utm_content","utm_campaign","utm_medium","ants_clid"].indexOf(d[0])&&(b[d[0]]=d[1]),-1<["gclid"].indexOf(d[0])&&(this.locals.isGDN=!0)),c++;null!=b.utm_source&&(b.type=1);null!=b.utm_source||this.locals.isSameHost||
""===a||(b.utm_source=a,b.type=2);this.locals.isGDN&&null==b.utm_source&&(b.channel="GDN",b.utm_source=b.channel,b.type=1);if(null!=b.utm_source)return this.setLocalStorage("__antscv_utm",JSON.stringify(b),15552E6),b;try{return JSON.parse(this.getLocalStorage("__antscv_utm"))||{}}catch(e){return{}}};d.prototype.conversion=function(a){if("object"===typeof a&&(this.queue.push(a),null!=(null!=a?a.conversionId:void 0)&&h.getScriptsFromConversion("//d.ants.vn/tgm.js",null!=a?a.conversionId:void 0),this.isSyncInfo))return h.debounce(this.enqueue(),
250)};d.prototype.push=function(a){if("object"===typeof a&&(this.queue.push(a),null!=(null!=a?a.conversionId:void 0)&&h.getScriptsFromConversion("//d.ants.vn/tgm.js",null!=a?a.conversionId:void 0),this.isSyncInfo))return h.debounce(this.enqueue(),250)};d.prototype.enqueue=function(){var a,b,c,f,d,w,q,x,l,n,r,p,k,u,t,v,B,y=this;n=this.queue;null!=g.ants_delay_events&&(n=n.concat(g.ants_delay_events));this.queue=[];g.ants_delay_events=[];if(0<n.length){d=[];q=!1;c=[];b=null;r=0;for(p=n.length;r<p;r++)f=
n[r],null!=f.conversionId&&(a=f.customParams||[],c.push.apply(c,a),b=f.conversionId,a={conversion_id:f.conversionId,conversion_language:f.language||"en",conversion_format:f.format||"",conversion_currency:f.currency||"vnd",conversion_label:f.label||"",custom_params:f.custom_params||[],conversion_value:f.value||"",remarketing_only:f.remarketing_only||!1},d.push(a),""!==a.conversion_label&&(a.siteId=0,a.visitor=this.locals.visitorId||"v",a.date=(new Date).getTime(),a.bc=this.locals.bc,a.session=this.locals.sessionId,
a.type=this.locals.typeConversion,a.refer=this.locals.refer,a.internal=this.locals.internal,a.utm=encodeURI(JSON.stringify(this.locals.utmSource)),a.refUrl=encodeURIComponent(document.referrer.match(/(^[^#]*)/)[0]),a.url=encodeURIComponent(g.location.href.match(/(^[^#]*)/)[0]),this.sendLog(e("//t.ants.vn/a1/rm/conversion-list",a))));c=this.matchDynamicInfo(c,g.location.href.match(/(^[^#]*)/)[0]);l=null!=this.locals.product&&"object"===typeof this.locals.product?this.locals.product:{};try{for(x=Object.keys(l),
w=0;w<(null!=x?x.length:void 0);)(null!=l?null!=(k=l[x[w]])?k.utime:void 0:void 0)<(new Date).getTime()-2592E6&&null!=l&&delete l[x[w]],w++}catch(C){}c=h.filter(c,function(a){var c,f,d,e,m,g,k,h;Array.isArray(a.ecomm_prodid)&&(a.ecomm_prodid=null!=(c=a.ecomm_prodid)?c.join(""):void 0);d="__ants_ss_"+(null!=a?a.ecomm_pagetype:void 0);c=(null!=(f=y.cookie.getItem(d))?f.split("|"):void 0)||[];if(("cart"===a.ecomm_pagetype||"purchase"===a.ecomm_pagetype)&&-1!==(null!=c?c.indexOf(a.ecomm_prodid):void 0))return!1;
"purchase"===a.ecomm_pagetype&&(q=!0);l[b]=null!=l[b]?l[b]:{};l[b].utime=(new Date).getTime();l[b][a.ecomm_pagetype]=null!=l[b][a.ecomm_pagetype]?l[b][a.ecomm_pagetype]:[];e=l[b][a.ecomm_pagetype].length;f=null!=(m=l[b])?null!=(g=m[a.ecomm_pagetype])?g.indexOf(a.ecomm_prodid):void 0:void 0;-1!==f&&null!=(k=l[b])&&null!=(h=k[a.ecomm_pagetype])&&h.splice(f,1);l[b][a.ecomm_pagetype].push(a.ecomm_prodid);3<e&&l[b][a.ecomm_pagetype].splice(0,e-3);y.locals.pageView.conversion_id=b;y.locals.pageView.page_type=
a.ecomm_pagetype;y.locals.pageView.products.push({product:a.ecomm_prodid,quantity:a.ecomm_quantity});if("cart"===a.ecomm_pagetype||"purchase"===a.ecomm_pagetype)c.push(a.ecomm_prodid),y.cookie.setItem(d,c.join("|"),18E5,"/","."+y.locals.hostname);return!0});null!=(u=this.proxyStorage)&&u.set("ad_product",l,2592E6);c={antspv:this.getPageview(),siteId:"",pgt:(null!=(t=this.locals)?null!=(v=t.pageView)?v.page_type:void 0:void 0)||"",conversion_id:b,events:encodeURI(JSON.stringify(d)),date:(new Date).getTime(),
custom_params:c,session:this.locals.sessionId||"",bc:this.locals.bc,refer:this.locals.refer,internal:this.locals.internal,utm:encodeURI(JSON.stringify(this.locals.utmSource)),refUrl:encodeURIComponent(document.referrer.match(/(^[^#]*)/)[0]),url:encodeURIComponent(g.location.href.match(/(^[^#]*)/)[0])};try{null!=("undefined"!==typeof g&&null!==g?g.__pLayer:void 0)&&(c.pl=(null!=(B=h.base64)?B.encode(encodeURI(JSON.stringify("undefined"!==typeof g&&null!==g?g.__pLayer:void 0))):void 0)+"PLE")}catch(C){}this.sendLog(e("//t.ants.vn/a1/rm/matching-remarketing",
c));q&&(this.sendLog(e("//t.ants.vn/a1/rm/conversion-list",c)),this.setLocalStorage("__antscv_utm","",15552E6));if("v"!==this.locals.visitorId)return this.getUserMarketingList(e("//d.ants.vn/delivery/remarketing-list",c))}};d.prototype.getPageview=function(){if(null!=("undefined"!==typeof g&&null!==g?g._antspv:void 0))return"undefined"!==typeof g&&null!==g?g._antspv:void 0;"undefined"!==typeof g&&null!==g&&(g._antspv=(new Date).getTime());return"undefined"!==typeof g&&null!==g?g._antspv:void 0};d.prototype.matchDynamicInfo=
function(a,b){var c,f,d,e,g,x,l,n,r,p,k,u,t,v,B,y,C,z,A;try{return e=document.domain.replace("www.",""),"lazada.vn"===e&&(g=(null!=(l=document.getElementById("pdtsku"))?l.innerHTML:void 0)||("undefined"!==typeof f&&null!==f?f.pdt_simplesku:void 0),x=RegExp("<[^>]*>","g"),x.test(g)&&(g=g.replace(x,"")),f=null!=(null!=(n=dataLayer[0])?n.pdt_simplesku:void 0)?dataLayer[0]:dataLayer[1],null!=(null!=f?f.pdt_simplesku:void 0)&&a.push({ecomm_name:((null!=f?f.pdt_name:void 0)||"").replace(/&/g,"-").toLowerCase(),
ecomm_brand:((null!=f?f.brand:void 0)||"").replace(/&/g,"-"),ecomm_cate:((null!=f?f.sub_subcategory:void 0)||(null!=f?f.subcategory:void 0)||(null!=f?f.category:void 0)||"").replace(/&/g,"-"),ecomm_prodid:g,ecomm_pagetype:"product",ecomm_quantity:1,ecomm_totalvalue:null!=f?f.pdt_price:void 0}),c=null!=(null!=(u=dataLayer[0])?null!=(t=u.ecommerce)?t.cart:void 0:void 0)?dataLayer[0]:dataLayer[1],null!=(null!=c?null!=(v=c.ecommerce)?v.cart:void 0:void 0)&&h.each(null!=(B=c.ecommerce)?B.cart:void 0,function(b){return a.push({ecomm_prodid:b.sku,
ecomm_pagetype:"cart",ecomm_quantity:b.quantity,ecomm_totalvalue:b.price*b.quantity})}),d=null!=(null!=(y=dataLayer[0])?y.order_items:void 0)?dataLayer[0]:dataLayer[1],null!=(null!=d?d.order_items:void 0)&&h.each(d.order_items,function(b){return a.push({ecomm_prodid:b.id,ecomm_pagetype:"purchase",ecomm_quantity:b.quantity,ecomm_totalvalue:b.price*b.quantity,ecomm_order_id:"order_id:"+d.order_id+" - order_number:"+d.order_number})})),"deca.vn"===e&&("offerdetail"===(null!=(C=dataLayer[0])?C.dynx_pagetype:
void 0)&&a.push({ecomm_prodid:null!=(z=dataLayer[0])?z.productid:void 0,ecomm_pagetype:"product",ecomm_quantity:1,ecomm_totalvalue:null!=(A=dataLayer[0])?A.dynx_totalvalue:void 0}),"conversionintent"===(null!=(r=dataLayer[0])?r.dynx_pagetype:void 0)&&h.each(dataLayer[0].dynx_itemid,function(b,c){var d,f,e;d=null!=(f=dataLayer[0].prices)?f.toString().split("|"):void 0;f=null!=(e=dataLayer[0].quantities)?e.toString().split("|"):void 0;return a.push({ecomm_prodid:b,ecomm_pagetype:"cart",ecomm_quantity:f[c],
ecomm_totalvalue:d[c]*f[c]})}),"conversion"===(null!=(p=dataLayer[0])?p.dynx_pagetype:void 0)&&h.each(null!=(k=dataLayer[0].productid)?k.split("|"):void 0,function(b,c){var f;f=dataLayer[0].transactionProducts[c];return a.push({ecomm_prodid:b,ecomm_pagetype:"purchase",ecomm_quantity:f.quantity,ecomm_totalvalue:f.price*f.quantity,ecomm_order_id:"order_id:"+dataLayer[0].orderid})})),a}catch(D){return[]}};d.prototype.matchUserMarketingList=function(a){return h.json(a,function(a){})};d.prototype.getUserMarketingList=
function(a){var b;return null!=(b=this.proxyStorage)?b.set("ad_rmu",(new Date).getTime()):void 0};e=function(a,b){var c,f,d,e;c=-1<a.indexOf("?");d=[];for(f in b){e=b[f];try{"string"!==typeof e&&(e=JSON.stringify(e)),d.push(""+f+"="+e)}catch(g){}}return a+(c?"&":"?")+d.join("&")};d.prototype.sendLog=function(a,b){var c;null==b&&(b=function(){});c=new Image(1,1);c.onload=b;return c.src=a};d.prototype.globalize=function(a){var b,c;c=[];for(b in a)a.hasOwnProperty(b)?c.push(g[b]=a[b]):c.push(void 0);
return c};d.prototype.getSessionId=function(){var a;a=1E3*new Date+~~(1E3*Math.random());return h.sha1(this.locals.visitorId+a+g.location.href)};d.prototype.setLocalStorage=function(a,b,c){var f;try{return null!=(f=this.cookie)?f.setItem(a,b,c):void 0}catch(d){}};d.prototype.removeLocalStorage=function(a){var b;try{null!=(b=this.cookie)&&b.removeItem(a)}catch(c){}return ex};d.prototype.getLocalStorage=function(a){var b;try{return null!=(b=this.cookie)?b.getItem(a):void 0}catch(c){}};d.prototype.getCookieStorage=
function(a){var b,c,f;try{return b=null!=(c=this.cookie)?c.getItem(a):void 0,6>(null!=(f=String(b))?f.length:void 0)?this.storage.getItem(a):b}catch(d){}};d.prototype.cookie={getItem:function(a){return a&&this.hasItem(a)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},setItem:function(a,b,c,d,e,g){var h;d="/";e="."+document.domain.replace("www.","");if(a&&!/^(?:expires|max\-age|path|domain|secure)$/.test(a)){h=
"";if(c)switch(typeof c){case "number":h="; max-age="+c/1E3;break;case "string":h="; expires="+c;break;case "object":c.hasOwnProperty("toGMTString")&&(h="; expires="+c.toGMTString())}return document.cookie=escape(a)+"="+escape(b)+h+(e?"; domain="+e:"")+(d?"; path="+d:"")+(g?"; secure":"")}},removeItem:function(a){var b;a&&this.hasItem(a)&&(b=new Date,b.setDate(b.getDate()-1),document.cookie=escape(a)+"=; expires="+b.toGMTString()+"; path=/")},hasItem:function(a){return(new RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,
"\\$&")+"\\s*\\=")).test(document.cookie)}};d.prototype.storage={getItem:function(a){var b,c,d,e;b={};try{e=JSON.parse(g.localStorage.getItem(a))}catch(h){}c=g.localStorage.getItem("expire-"+a);d=null===c?!1:Number(c)<Date.now();if(""===e||null===e)e=JSON.parse(g.localStorage.getItem(a));null==e||d||(b.value=e);b.expire=c||0;return b},setItem:function(a,b,c){var d,e,h;try{return null!=(d=g.localStorage)&&d.setItem(a,JSON.stringify(b)),null===c||isNaN(c)?null!=(e=g.localStorage)?e.removeItem("expire-"+
a):void 0:null!=(h=g.localStorage)?h.setItem("expire-"+a,Date.now()+c):void 0}catch(q){}},removeItem:function(a){var b;b="expire-"+a;g.localStorage.removeItem(a);return g.localStorage.removeItem(b)},removeExpiredKey:function(a){var b,c,d,e;d=g.localStorage;e=[];for(c in d)b=d[c],/expire\-/.test(c)&&(a>Number(b)?(b=c.substr(7),storage.removeItem(c),e.push(storage.removeItem(b))):e.push(void 0));return e}};return d}();A=function(){function d(){var a;this.$counter=0;this.$callbacks={};this.isSupported()&&
(a=this.iframe=document.createElement("iframe"),a.src="//st-au.ants.vn/proxy-conversion.html",a.width=0,a.height=0,a.style.display="none",this.append(),this.proxyWin=a.contentWindow)}var e;e=g.postMessage&&g.JSON;d.prototype.isSupported=function(){return e};d.prototype.addEventListener=function(a,b,c){a=a===g?g:a[0]||a;return a.addEventListener?(a.addEventListener(b,c,!1),!0):a.attachEvent?a.attachEvent("on"+b,c):!1};d.prototype.onMessage=function(a){return this.addEventListener(g,"message",function(b){var c;
try{c=JSON.parse(b.data)}catch(d){c=null}return a(c)})};d.prototype.append=function(){var a,b;if(!this.isSupported())return!1;a=this.iframe;b=this;document.getElementsByTagName("head")[0].appendChild(a);this.onMessage(function(a){if(a&&"ants-proxy-conversion"===a.$)return b.receiver(a)});return!0};d.prototype.receiver=function(a){var b,c;"proxyDOMReady"===a.event&&(this.instance=!0);c=a.$id;b=this.$callbacks[c];if(c&&b)return h.nextTick(function(){return b(a)}),delete this.$callbacks[c]};d.prototype.send=
function(a){a.$="ants-proxy-conversion";return this.proxyWin.postMessage(JSON.stringify(a),"*")};d.prototype.set=function(a,b,c,d){var e;"function"===typeof c&&(d=c,c=null);e={key:a,value:b,expire:c};if(this.isSupported())return e.action="set",e.$id=++this.$counter,this.$callbacks[e.$id]=d,this.send(e);h.nextTick(function(){return"function"===typeof d?d(e):void 0})};d.prototype.get=function(a,b){var c;if(!this.isSupported())return b({error:"not supported"});c={key:a};if(this.isSupported())return c.action=
"get",c.$id=++this.$counter,this.$callbacks[c.$id]=b,this.send(c);h.nextTick(function(){return"function"===typeof b?b(c):void 0})};return d}();null!=(null!=(D=g.ants_analytic)?null!=(E=D[0])?E.conversionId:void 0:void 0)&&(h.getScriptsFromConversion("//d.ants.vn/tgm.js",null!=(F=g.ants_analytic)?null!=(G=F[0])?G.conversionId:void 0:void 0),g.ants_delay_events=g.ants_analytic);void 0===(null!=(H=g.ants_analytic)?H.isSyncInfo:void 0)&&(g.ants_analytic=z.getInstance())}(window);
